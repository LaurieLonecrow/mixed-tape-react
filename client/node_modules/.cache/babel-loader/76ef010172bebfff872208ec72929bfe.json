{"ast":null,"code":"\"use strict\";\n\nvar __makeTemplateObject = this && this.__makeTemplateObject || function (cooked, raw) {\n  if (Object.defineProperty) {\n    Object.defineProperty(cooked, \"raw\", {\n      value: raw\n    });\n  } else {\n    cooked.raw = raw;\n  }\n\n  return cooked;\n};\n\nvar __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n\n  return r;\n};\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n  result[\"default\"] = mod;\n  return result;\n};\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importStar(require(\"react\"));\n\nvar styled_components_1 = __importDefault(require(\"styled-components\"));\n\nvar lodash_debounce_1 = __importDefault(require(\"lodash.debounce\"));\n\nvar Track_1 = __importDefault(require(\"./Track\"));\n\nvar Slide_1 = __importDefault(require(\"./Slide\"));\n\nvar Swipeable_1 = __importDefault(require(\"./Swipeable\"));\n\nvar helpers_1 = require(\"./helpers\");\n\nvar Slider = styled_components_1.default.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n    position: relative;\\n    overflow: hidden;\\n    display: flex;\\n    align-items: center;\\n    width: 100%;\\n\"], [\"\\n    position: relative;\\n    overflow: hidden;\\n    display: flex;\\n    align-items: center;\\n    width: 100%;\\n\"])));\n\nvar renderSlides = function (children, slideCount, slideWidth, slidesToShow, active, scaleOnFocus, infinite, center, debug) {\n  if (slideWidth === void 0) {\n    slideWidth = 0;\n  }\n\n  var slides = [];\n  var preClones = [];\n  var postClones = [];\n  react_1.default.Children.forEach(children, function (child, index) {\n    slides.push(react_1.default.createElement(Slide_1.default, {\n      width: slideWidth,\n      key: \"slide\" + index,\n      focused: helpers_1.isIndexFocused(index, active),\n      scaleOnFocus: scaleOnFocus\n    }, child, debug && react_1.default.createElement(\"p\", null, \"slide \" + index)));\n\n    if (infinite) {\n      var preCloneNo = slideCount - index;\n\n      if (preCloneNo <= helpers_1.getPreSlideCount({\n        slideCount: slideCount,\n        slidesToShow: slidesToShow,\n        infinite: infinite,\n        center: center\n      })) {\n        preClones.push(react_1.default.createElement(Slide_1.default, {\n          width: slideWidth,\n          key: \"slide-pre\" + -preCloneNo\n        }, child, debug && react_1.default.createElement(\"p\", null, \"pre clone \" + preCloneNo)));\n      }\n\n      var postCloneNo = index + slideCount;\n      postClones.push(react_1.default.createElement(Slide_1.default, {\n        width: slideWidth,\n        key: \"slide-post\" + postCloneNo\n      }, child, debug && react_1.default.createElement(\"p\", null, \"post clone \" + postCloneNo)));\n    }\n  });\n  return __spreadArrays(preClones, slides, postClones);\n};\n\nvar Component = function (_a) {\n  var children = _a.children,\n      previousActive = _a.previousActive,\n      active = _a.active,\n      infiniteActive = _a.infiniteActive,\n      _b = _a.slidesToShow,\n      slidesToShow = _b === void 0 ? 1 : _b,\n      center = _a.center,\n      centerPadding = _a.centerPadding,\n      infinite = _a.infinite,\n      onWindowResize = _a.onWindowResize,\n      swipeable = _a.swipeable,\n      scaleOnFocus = _a.scaleOnFocus,\n      onSwipe = _a.onSwipe,\n      debug = _a.debug;\n  var sliderRef = react_1.useRef(null);\n  var slideCount = react_1.default.Children.count(children);\n\n  var _c = react_1.useState(0),\n      sliderWidth = _c[0],\n      setSliderWidth = _c[1];\n\n  var _d = react_1.useState(helpers_1.getSliderStyles({\n    slideCount: slideCount,\n    slidesToShow: slidesToShow,\n    center: center,\n    centerPadding: centerPadding,\n    infinite: infinite,\n    sliderWidth: sliderWidth\n  })),\n      styles = _d[0],\n      setStyles = _d[1];\n\n  react_1.useEffect(function () {\n    var handleWindowResize = lodash_debounce_1.default(function () {\n      onWindowResize();\n      setSliderWidth(sliderRef.current ? Math.ceil(sliderRef.current.offsetWidth) : 0);\n    }, 100);\n    setSliderWidth(sliderRef.current ? Math.ceil(sliderRef.current.offsetWidth) : 0);\n    window.addEventListener('resize', handleWindowResize);\n    return function () {\n      window.removeEventListener('resize', handleWindowResize);\n    };\n  }, [onWindowResize]);\n  react_1.useEffect(function () {\n    setStyles(helpers_1.getSliderStyles({\n      slideCount: slideCount,\n      slidesToShow: slidesToShow,\n      center: center,\n      centerPadding: centerPadding,\n      infinite: infinite,\n      sliderWidth: sliderWidth\n    }));\n  }, [previousActive, active, infiniteActive, slidesToShow, center, centerPadding, infinite, sliderWidth]);\n  return react_1.default.createElement(Slider, {\n    ref: sliderRef\n  }, react_1.default.createElement(Swipeable_1.default, {\n    swipeable: swipeable,\n    xMovementTrigger: styles.slideWidth / 2,\n    onSwipe: onSwipe\n  }, react_1.default.createElement(Track_1.default, {\n    width: styles.trackWidth,\n    center: center,\n    centerPadding: centerPadding,\n    previousActive: previousActive,\n    active: active,\n    infiniteActive: infiniteActive,\n    slideWidth: styles.slideWidth,\n    slideOffset: styles.slideOffset\n  }, renderSlides(children, slideCount, styles.slideWidth, slidesToShow, infiniteActive, scaleOnFocus, infinite, center, debug))));\n};\n\nexports.default = Component;\nvar templateObject_1;","map":{"version":3,"sources":["../src/Slider.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["\"use strict\";\nvar __makeTemplateObject = (this && this.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = __importStar(require(\"react\"));\nvar styled_components_1 = __importDefault(require(\"styled-components\"));\nvar lodash_debounce_1 = __importDefault(require(\"lodash.debounce\"));\nvar Track_1 = __importDefault(require(\"./Track\"));\nvar Slide_1 = __importDefault(require(\"./Slide\"));\nvar Swipeable_1 = __importDefault(require(\"./Swipeable\"));\nvar helpers_1 = require(\"./helpers\");\nvar Slider = styled_components_1.default.div(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\\n    position: relative;\\n    overflow: hidden;\\n    display: flex;\\n    align-items: center;\\n    width: 100%;\\n\"], [\"\\n    position: relative;\\n    overflow: hidden;\\n    display: flex;\\n    align-items: center;\\n    width: 100%;\\n\"])));\nvar renderSlides = function (children, slideCount, slideWidth, slidesToShow, active, scaleOnFocus, infinite, center, debug) {\n    if (slideWidth === void 0) { slideWidth = 0; }\n    var slides = [];\n    var preClones = [];\n    var postClones = [];\n    react_1.default.Children.forEach(children, function (child, index) {\n        slides.push(react_1.default.createElement(Slide_1.default, { width: slideWidth, key: \"slide\" + index, focused: helpers_1.isIndexFocused(index, active), scaleOnFocus: scaleOnFocus },\n            child,\n            debug && react_1.default.createElement(\"p\", null, \"slide \" + index)));\n        if (infinite) {\n            var preCloneNo = slideCount - index;\n            if (preCloneNo <=\n                helpers_1.getPreSlideCount({\n                    slideCount: slideCount,\n                    slidesToShow: slidesToShow,\n                    infinite: infinite,\n                    center: center,\n                })) {\n                preClones.push(react_1.default.createElement(Slide_1.default, { width: slideWidth, key: \"slide-pre\" + -preCloneNo },\n                    child,\n                    debug && react_1.default.createElement(\"p\", null, \"pre clone \" + preCloneNo)));\n            }\n            var postCloneNo = index + slideCount;\n            postClones.push(react_1.default.createElement(Slide_1.default, { width: slideWidth, key: \"slide-post\" + postCloneNo },\n                child,\n                debug && react_1.default.createElement(\"p\", null, \"post clone \" + postCloneNo)));\n        }\n    });\n    return __spreadArrays(preClones, slides, postClones);\n};\nvar Component = function (_a) {\n    var children = _a.children, previousActive = _a.previousActive, active = _a.active, infiniteActive = _a.infiniteActive, _b = _a.slidesToShow, slidesToShow = _b === void 0 ? 1 : _b, center = _a.center, centerPadding = _a.centerPadding, infinite = _a.infinite, onWindowResize = _a.onWindowResize, swipeable = _a.swipeable, scaleOnFocus = _a.scaleOnFocus, onSwipe = _a.onSwipe, debug = _a.debug;\n    var sliderRef = react_1.useRef(null);\n    var slideCount = react_1.default.Children.count(children);\n    var _c = react_1.useState(0), sliderWidth = _c[0], setSliderWidth = _c[1];\n    var _d = react_1.useState(helpers_1.getSliderStyles({\n        slideCount: slideCount,\n        slidesToShow: slidesToShow,\n        center: center,\n        centerPadding: centerPadding,\n        infinite: infinite,\n        sliderWidth: sliderWidth,\n    })), styles = _d[0], setStyles = _d[1];\n    react_1.useEffect(function () {\n        var handleWindowResize = lodash_debounce_1.default(function () {\n            onWindowResize();\n            setSliderWidth(sliderRef.current ? Math.ceil(sliderRef.current.offsetWidth) : 0);\n        }, 100);\n        setSliderWidth(sliderRef.current ? Math.ceil(sliderRef.current.offsetWidth) : 0);\n        window.addEventListener('resize', handleWindowResize);\n        return function () {\n            window.removeEventListener('resize', handleWindowResize);\n        };\n    }, [onWindowResize]);\n    react_1.useEffect(function () {\n        setStyles(helpers_1.getSliderStyles({\n            slideCount: slideCount,\n            slidesToShow: slidesToShow,\n            center: center,\n            centerPadding: centerPadding,\n            infinite: infinite,\n            sliderWidth: sliderWidth,\n        }));\n    }, [previousActive, active, infiniteActive, slidesToShow, center, centerPadding, infinite, sliderWidth]);\n    return (react_1.default.createElement(Slider, { ref: sliderRef },\n        react_1.default.createElement(Swipeable_1.default, { swipeable: swipeable, xMovementTrigger: styles.slideWidth / 2, onSwipe: onSwipe },\n            react_1.default.createElement(Track_1.default, { width: styles.trackWidth, center: center, centerPadding: centerPadding, previousActive: previousActive, active: active, infiniteActive: infiniteActive, slideWidth: styles.slideWidth, slideOffset: styles.slideOffset }, renderSlides(children, slideCount, styles.slideWidth, slidesToShow, infiniteActive, scaleOnFocus, infinite, center, debug)))));\n};\nexports.default = Component;\nvar templateObject_1;\n//# sourceMappingURL=Slider.js.map"]},"metadata":{},"sourceType":"script"}